<!-- Form -->
<div class="patient-form-container">
  <%= form_with model: @patient, local: true, class: "patient-form" do |f| %>
    <% if @patient.errors.any? %>
      <div class="form-errors">
        <h3>Por favor, corrija os seguintes erros:</h3>
        <ul>
          <% @patient.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="form-row">
      <div class="form-group">
        <%= f.label :name, "Nome Completo", class: "form-label" %>
        <%= f.text_field :name, 
                         placeholder: "Digite o nome completo do paciente",
                         class: "form-control" %>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <%= f.label :email, "E-mail", class: "form-label" %>
        <%= f.email_field :email, 
                          placeholder: "paciente@email.com",
                          class: "form-control" %>
      </div>
      
      <div class="form-group">
        <%= f.label :phone, "Telefone", class: "form-label" %>
        <%= f.text_field :phone, 
                         placeholder: "(11) 99999-9999",
                         class: "form-control" %>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <%= f.label :birth_date, "Data de Nascimento", class: "form-label" %>
        <%= f.date_field :birth_date, 
                         class: "form-control" %>
      </div>
      
      <div class="form-group">
        <%= f.label :status, "Status", class: "form-label" %>
        <%= f.select :status, 
                     options_for_select([
                       ['Ativo', 'active'],
                       ['Encerrado', 'closed']
                     ], @patient.status || 'active'),
                     {},
                     { class: "form-control" } %>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group full-width">
        <%= f.label :notes, "Observações", class: "form-label" %>
        <%= f.text_area :notes, 
                        placeholder: "Observações sobre o paciente, histórico, etc.",
                        rows: 4,
                        class: "form-control" %>
      </div>
    </div>

    <div class="form-actions">
      <%= link_to "Cancelar", patients_path, class: "btn-secondary" %>
      <%= f.submit "Salvar Paciente", class: "btn-primary" %>
    </div>
  <% end %>
</div>
